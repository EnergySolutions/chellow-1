<?xml version="1.0" encoding="us-ascii"?>
<xsl:stylesheet version="1.0"
    xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
  <xsl:output method="xml" encoding="US-ASCII"
    doctype-public="-//W3C//DTD XHTML 1.1//EN"
    doctype-system="http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"
    indent="yes" />
  <xsl:template match="/">
    <html>
      <head>
        <link rel="stylesheet" type="text/css"
            href="{/source/request/@context-path}/reports/19/output/" />
        <title>Chellow &gt; Sites &gt;
            <xsl:value-of select="/source/site/@name" />
        </title>
      </head>
      <body>
        <p>
          <a href="{/source/request/@context-path}/reports/1/output/">
                        <xsl:value-of select="'Chellow'" />
                    </a>
          &gt;
          <a href="{/source/request/@context-path}/reports/3/output/">
            <xsl:value-of select="'Sites'" />
                    </a>
                    &gt;
                    <a
                        href="{/source/request/@context-path}/reports/5/output/?site_id={/source/site/@id}">
                        <xsl:value-of select="/source/site/@name" />
                    </a>
                    &gt; HH graph of era
                </p>
                <xsl:if test="//message">
                    <ul>
                        <xsl:for-each select="//message">

                            <li>
                                <xsl:value-of select="@description" />
                            </li>
                        </xsl:for-each>
                    </ul>
                </xsl:if>

                <p>
                    <img
                        src="{/source/request/@context-path}/reports/23/output/?site_id={/source/site/@id}&amp;finish_year={/source/request/parameter[@name='finish_year']/value}&amp;finish_month={/source/request/parameter[@name='finish_month']/value}&amp;months={/source/request/parameter[@name='months']/value}" />
                </p>
                <form action=".">
                    <fieldset>
                        <legend>Show graph</legend>
                        <input type="hidden" name="site_id"
                            value="{/source/request/parameter[@name='site_id']/value}" />


                        <xsl:value-of select="'For '" />
                        <input name="months" maxlength="2" size="2" value="{/source/request/parameter[@name='months']/value}"/>
                        <xsl:value-of select="' months finishing at the end of '" />
                        <input size="4" length="4"
                            name="finish_year" value="{/source/request/parameter[@name='finish_year']/value}" />
                        <xsl:value-of select="' - '" />
                        <select name="finish_month">
                            <xsl:for-each select="/source/months/month">
                                <option>
                                    <xsl:if
                                        test="/source/request/parameter[@name='finish_month']/value = @number">
                                        <xsl:attribute
                                            name="selected">selected</xsl:attribute>
                                    </xsl:if>
                                    <xsl:value-of select="@number" />
                                </option>
                            </xsl:for-each>
                        </select>
                        <xsl:value-of select="' '" />
                        <input type="submit" value="Show" />

                    </fieldset>
                </form>
            </body>
        </html>
    </xsl:template>
</xsl:stylesheet>